# 浏览器原理

[TOC]

## 主流浏览器

![1650338475554](C:\Users\鄂继业\AppData\Roaming\Typora\typora-user-images\1650338475554.png)

## 导航流程：从输入URL到页面展示，这中间发生了什么？

> 大致过程:
  a.用户从浏览器进程里 **`输入请求信息`**；
  b.网络进程 **`发起URL请求`**；
  c.服务器响应URL请求后，浏览器进程又要开始`准备渲染进程`；
  d.渲染进程准备好后，需要先向渲染进程提交页面数据，称之为`提交文档`；
  e.渲染进程接收完文档信息之后，便开始`解析页面和加载子资源`，完成页面的渲染。

### 浏览器进程、渲染进程和网络进程的主要职责

+ `浏览器进程`主要负责用户交互、子进程管理和文件存储等功能
+ `网络进程`是面向渲染进程和浏览器进程等提供网络下载功能
+ `渲染进程`的主要职责是把从网络下载的HTML/JAVASCRIPT/CSS/图片等资源解析为可以显示和交互的页面。

### 从输入URL到页面展示

1. 用户输入  

当用户在地址栏中输入一个查询关键字时，地址栏会判断输入的关键字是搜索内容，还是请求的URL

+ 如果是搜索内容，地址栏会使用浏览器默认的搜索引擎，来合成新的带搜索关键字的URL
+ 如果判断输入内容符合URL规则，地址栏会根据规则，把这段内容加上协议，合成完成的URL  

当用户输入关键字并键入回车后，浏览器进入Loading状态

+ 此时页面显示的依然是之前打开的页面内容，因为需要等待`提交文档`阶段，页面内容才会被替换

> 注：URL由 协议名(如http) + 网站名(服务名(如www) + 域名(baidu.com) -> www.baidu.com) 构成

2. URL请求过程

> 页面资源请求过程。浏览器进程会通过进程间通信（IPC）把URL请求发送至网络进程，网络进程接收到URL请求后，会发起真正的URL请求流程。

首先，网络进程会查找本地缓存是否缓存了该资源。

+ 如果有缓存资源
